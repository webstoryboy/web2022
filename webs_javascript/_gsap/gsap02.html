<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @import url("https://rsms.me/inter/inter.css");
        @import url("https://rsms.me/inter/inter.css");
html {
  font-family: "Inter", sans-serif;
}

@supports (font-variation-settings: normal) {
  html {
    font-family: "Inter var", sans-serif;
  }
}
* {
  box-sizing: border-box;
  margin: 0;
}

body {
  color: #101010;
  --font-weight: 400;
}

h1 {
  position: relative;
  font-size: clamp(4rem, calc(100vw / 24 * 2), 12rem);
  line-height: 1;
  letter-spacing: -0.0625em;
  font-variation-settings: "wght" var(--font-weight);
  white-space: nowrap;
  margin-bottom: 3rem;
}
h1 span {
  display: block;
  width: -webkit-max-content;
  width: -moz-max-content;
  width: max-content;
  transform: translateX(calc(-100% + clamp(17.5rem, calc(100vw / 24 * 18), 66rem)));
}
h1 ~ p {
  margin-top: 1.5em;
}

.p {
  font-size: clamp(1rem, calc(100vw / 24 * 0.3), 1.5rem);
  letter-spacing: -0.0325em;
}
.p:first-of-type {
  font-size: clamp(1.125rem, calc(100vw / 24 * 0.4), 2rem);
}

.section {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: clamp(4.5rem, calc(100vw / 24 * 6), 12rem) clamp(1.5rem, calc(100vw / 24 * 2), 4rem);
}
.section p {
  max-width: clamp(19rem, calc(100vw / 24 * 20), 70rem);
  margin: auto;
}
.section-1 {
  background: #fff;
  color: #101010;
}

.parallax {
  position: relative;
  -webkit-clip-path: inset(0 0 50% 0);
          clip-path: inset(0 0 50% 0);
  margin-bottom: -100vh;
  padding-bottom: 200vh;
}
.parallax .parallax__inner {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
.parallax img {
  display: block;
  position: sticky;
  top: 0;
  margin-top: -100vh;
  width: 100%;
  height: 100vh;
  -o-object-fit: cover;
     object-fit: cover;
}

body {
  overflow-x: hidden;
}

.footer {
  -webkit-clip-path: inset(0);
          clip-path: inset(0);
}
.footer__inner {
  position: sticky;
  top: 100vh;
  transform: translateY(-100%);
  margin-bottom: -100%;
  width: 100%;
  background: #101010;
  padding: calc(100vw / 24 * 2) calc(100vw / 24 * 3) calc(100vw / 24 * 1) calc(100vw / 24 * 2);
}
.footer__logo {
  font-size: clamp(4rem, calc(100vw / 24 * 2), 12.5rem);
  font-weight: 900;
  letter-spacing: -0.05em;
}
.footer__nav {
  width: 100%;
  padding-bottom: calc(100vw / 24 * 1);
  border-bottom: 1px solid currentColor;
}
.footer__list {
  padding: 0;
}
.footer__list--parent {
  display: flex;
  flex-wrap: wrap;
  width: 100%; 
}
.footer__list--sub {
  margin-top: 1rem;
}
.footer__item {
  display: block;
}
.footer__item--parent {
  font-weight: 500;
  min-width: calc(100vw / 24 * 4);
  margin-top: 3rem;
}
@media (max-width: 750px) {
  .footer__item--parent {
    min-width: 50%;
  }
}
.footer__item--sub {
  opacity: 0.75;
  line-height: 1.875;
}
    </style>
</head>
<body>
    
<div class="container" data-background-to="#773aff" data-color-to="#f4acfc">
    <div class="parallax">
      <div class="parallax__inner"><img src="https://picsum.photos/1600/910"/></div>
    </div>
    <section class="section section-0">
      <h1> <span>Testing all things Lenis here</span></h1>
      <p class="p">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam at felis id neque tristique tristique. Vivamus interdum sit amet tortor laoreet facilisis. In tempus dui purus, et dictum justo tincidunt at. Nulla ultrices lorem nec nisi porta vulputate. Proin semper nisi nec porta commodo. Curabitur sed lobortis felis, vel volutpat tortor. Nunc dapibus, elit vitae facilisis vehicula, eros risus viverra metus, at condimentum enim eros eu erat. Pellentesque volutpat tincidunt viverra.</p>
      <p class="p">Proin quis porta ex. Donec non dolor nec urna iaculis commodo sed sed risus. Pellentesque tincidunt vehicula purus at dignissim. Integer nulla massa, hendrerit ut metus sit amet, mollis sagittis dolor. Phasellus in ornare neque, a dictum augue.</p>
    </section>
    <div class="parallax">
      <div class="parallax__inner"><img src="https://picsum.photos/1600/900"/></div>
    </div>
    <section class="section section-1">
      <h1> <span>Testing all things Lenis here</span></h1>
      <p class="p">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam at felis id neque tristique tristique. Vivamus interdum sit amet tortor laoreet facilisis. In tempus dui purus, et dictum justo tincidunt at. Nulla ultrices lorem nec nisi porta vulputate. Proin semper nisi nec porta commodo. Curabitur sed lobortis felis, vel volutpat tortor. Nunc dapibus, elit vitae facilisis vehicula, eros risus viverra metus, at condimentum enim eros eu erat. Pellentesque volutpat tincidunt viverra.
        <p class="p">Proin quis porta ex. Donec non dolor nec urna iaculis commodo sed sed risus. Pellentesque tincidunt vehicula purus at dignissim. Integer nulla massa, hendrerit ut metus sit amet, mollis sagittis dolor. Phasellus in ornare neque, a dictum augue.</p>
      </p>
    </section>
    <footer class="footer">
      <div class="footer__inner">
        <nav class="footer__nav">
          <p class="footer__logo">LOGO</p>
          <ul class="footer__list footer__list--parent">
            <li class="footer__item footer__item--parent">Main link
              <ul class="footer__list footer__list--sub">
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
              </ul>
            </li>
            <li class="footer__item footer__item--parent">Main link
              <ul class="footer__list footer__list--sub">
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
              </ul>
            </li>
            <li class="footer__item footer__item--parent">Main link
              <ul class="footer__list footer__list--sub">
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
              </ul>
            </li>
            <li class="footer__item footer__item--parent">Main link
              <ul class="footer__list footer__list--sub">
                <li class="footer__item footer__item--sub">link</li>
                <li class="footer__item footer__item--sub">link</li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
  </div> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script type="module">
    import Lenis from "https://cdn.skypack.dev/@studio-freight/lenis@0.1.12";

const lenis = new Lenis({
	duration: 1.2,
	easing: (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t)), // https://easings.net
	smooth: true,
	direction: "vertical"
});

// //get scroll value
// lenis.on('scroll', ({ scroll, limit, velocity, direction, progress }) => {
//   console.log({ scroll, limit, velocity, direction, progress })
// })

function raf(time) {
	lenis.raf(time);
	requestAnimationFrame(raf);
}

requestAnimationFrame(raf);

gsap.to(".container", {
	scrollTrigger: {
		trigger: ".section-0",
		start: "top-="+window.innerHeight,
		end: "top+=100",
		// markers: true, 
		scrub: 1
	},
	background: document.querySelector(".container").dataset.backgroundTo,
	color: document.querySelector(".container").dataset.colorTo,
	"--font-weight": 800
});

const headings = [...document.querySelectorAll("h1 span")];
headings.forEach((heading) => {
	gsap.to(heading, {
		scrollTrigger: {
			trigger: heading,
			start: "top-=" + window.innerWidth * 0.35,
			end: "top-=100",
			// markers: true,
			scrub: 2
		},
		immediateRender: false,
		x: 0
	});
});
  </script>
</body> 
</html>