<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style2.css">

    <link href="https://fonts.googleapis.com/css2?family=Abel&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        .mobile {
            display: none;
        }
    </style>
</head>

<body>

    <div class="loading">
        <div class="loading__ani">loading</div>
        <span class="loading__text">0%</span>
    </div>

    <header id="header">
    
    </header>
    <!-- //header -->

    <main data-scroll-container>
        <div class="contents">
            <div class="section_wrap">
                <section id="section1" class="section">
                    <div class="sec1">
                        <h1 class="logo" data-scroll data-scroll-speed="2">portfolio</h1>
                        <div class="sec1_img"></div>
                        <div class="sec1_txt">
                            <p>어떤 일이라도 노력하고 즐기면  그 결과는 빛을 바란다고 생각합니다. 신입의 열정과 도전정신을 깊숙히 새기며 배움에 있어 겸손함을 유지하며 세부적인 곳까지 파고드는 개발자가 되겠습니다.</p>
                            <em>개발자 김은수</em>
                        </div>
                    </div>
                </section>
                <!-- //section1 -->

                <section id="section2" class="section">
                    <div class="sec2">
                        <div class="sec2_txt">
                            <div data-scroll data-scroll-speed="0.5">I AM</div>
                            <div data-scroll data-scroll-speed="2">FRONTEND</div>
                            <div data-scroll data-scroll-speed="1">DEVELOPER</div>
                        </div>
                    </div>
                </section>
                <!-- //section2 -->

                <section id="section3" class="section">
                    section3
                    <img src="https://webstoryboy.github.io/NewPortfolio1/port02/assets/img/clova@3.jpg" alt="">
                </section>
                <!-- //section3 -->
                
                <section id="section4" class="section">
                    section4
                </section>
                <!-- //section4 -->

                <section id="section5" class="section">
                    section5
                </section>
                <!-- //section5 -->

                <section id="section6" class="section">
                    section6
                </section>
                <!-- //section6 -->
            </div>
        </div>
    </main>

    


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://webstoryboy.github.io/NewPortfolio1/port02/assets/js/imagesloaded.pkgd.min.js"></script>
    <script>
        function mobile(){
            let os = navigator.userAgent.toLowerCase();

            if (os.indexOf("iphone") >= 0) {
                window.location.href="http://kes7364.com/portfolio03/assets/index2.html"
            } else if (os.indexOf("android") >= 0) {
                window.location.href="http://kes7364.com/portfolio03/assets/index2.html"
            } 

            window.onresize = function(event){
                var innerWidth = window.innerWidth;
                console.log(innerWidth)
                innerWidth <= "800" ? window.location.href="/" : window.location.href="/";
            }
        }
        mobile();

        function loading(){

            let imgLoad = imagesLoaded("body"),
                imgTotal = imgLoad.images.length,
                imgLoaded = 0,
                imgCurrent = 0,
                progressTimer = setInterval(updateProgress, 1000/60);

            imgLoad.on('progress', function(){
                imgLoaded++;
            });

            function updateProgress(){
                let target = (imgLoaded/imgTotal) * 100;
                imgCurrent += (target - imgCurrent) * 0.1;
                $(".loading__text").text(Math.floor(imgCurrent) + "%");

                gsap.set(".sec1_img", {opacity: 0})
                gsap.set(".sec1 .logo", {left: -500})
                gsap.set(".sec1_txt", {y: 30, opacity: 0})
                gsap.set(".sec2_txt", {x: 100, opacity: 0})

                if(imgCurrent >= 100){
                    clearInterval(progressTimer);
                    setTimeout(() => {
                        const tl = gsap.timeline();
                        tl.to(".loading__ani", {duration: 0.4, opacity: 0}, "1")
                        tl.to(".loading__text", {duration: 0.4, opacity: 0}, "1")
                        tl.to(".loading", {duration: 0.4, width: 0})
                        tl.to(".sec1_img", {duration: 0.4, opacity: 1})
                        tl.to(".sec1 .logo", {duration: 0.4, left: 450, rotation: 360, ease: "power2.out"})
                        tl.to(".sec1_txt", {duration: 0.8, y:0, opacity: 1, ease: "power1.out"})
                        tl.to(".sec2_txt", {duration: 0.8, x:0, opacity: 1, ease: "power1.out"})
                    },1000)
                }
                if(imgCurrent > 99){
                    imgCurrent = 100;
                }
            }
        }
        loading();
    </script>
    <script type="module">
        import locomotiveScroll from "https://cdn.skypack.dev/locomotive-scroll@4.0.6";

        const lscroll = new locomotiveScroll({
            el: document.querySelector("[data-scroll-container]"),
            smooth: true,
            direction: "horizontal"
        });
    </script>
</body>

</html>