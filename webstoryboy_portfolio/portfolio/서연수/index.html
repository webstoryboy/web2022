<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/fonts.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css">

    <link href="https://fonts.googleapis.com/css2?family=Abel&display=swap" rel="stylesheet">

</head>

<body>

    <header id="header">
        <h1>YEONSOO’S PORTFOLIO</h1>
        <nav id="nav">
            <ul>
                <li><a href="#">ABOUT</a></li>
                <li><a href="#">WORK</a></li>
                <li><a href="#">CONTACT</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->

    <div class="wrapper">
        <div class="blur"></div>
        <div class="blur"></div>
        <div class="blur"></div>
    </div>
    <!-- //bg -->

    <main id="contents">
        <section id="section1">
            <div class="container">

            
            <div class="sec1">
                <div class="left">
                    <div>
                        <div class="text">
                            <em>Hello!</em>
                            <div>I’m Yeonsoo Seo</div>
                        </div>
                        <p>
                            항공기계설계를 다양한 분야의 업무를 하며 나의 적성에 맞는 일을 찾고자 노력을 했습니다. <br>
                            다니던 대학원을 휴학하고 국비지원학원에서 약 6개월간의 여정을 시작했습니다. <br>
                            아직은 서툴고 부족하다는 점을 알고 있습니다. <br>
                            하지만 반대로 생각하면 얼마나 더 성장합니다. <br>
                            앞으로 병상은 중증·준중증 등 취약 계층에 집중한다는 전략이다. <br>
                        </p>
                        <button>RESUME DOWNLOAD</button>
                    </div>
                </div>
                <div class="right">
                    <div class="img" data-scroll data-scroll-speed="3"></div>
                </div>
            </div>
        </div>
        </section>
        <!-- //section1 -->

        <section id="section2">
            <div class="pin-wrap">
                <div>1</div>
                <div>2</div>
                <div>3</div>
                <div>4</div>
            </div>
        </section>
        <!-- //section2 -->

        <section id="section3">
            section3
        </section>
        <!-- //section3 -->

        <section id="section4">
            section4
        </section>
        <!-- //section4 -->

        <section id="section5">
            section4
        </section>
        <!-- //section5 -->
        <section id="section6"></section><!-- //section6 -->
    </main>




    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const pageContainer = document.querySelector("#contents");

        /* SMOOTH SCROLL */
        const scroller = new LocomotiveScroll({
            el: pageContainer,
            smooth: true
        });

        scroller.on("scroll", ScrollTrigger.update);

        ScrollTrigger.scrollerProxy(pageContainer, {
            scrollTop(value) {
                return arguments.length ?
                    scroller.scrollTo(value, 0, 0) :
                    scroller.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    left: 0,
                    top: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                };
            },
            pinType: pageContainer.style.transform ? "transform" : "fixed"
        });

        window.addEventListener("load", function () {
            let pinBoxes = document.querySelectorAll(".pin-wrap > *");
            let pinWrap = document.querySelector(".pin-wrap");
            let pinWrapWidth = pinWrap.offsetWidth;
            let horizontalScrollLength = pinWrapWidth - window.innerWidth;

            gsap.to(".pin-wrap", {
                scrollTrigger: {
                    scroller: pageContainer, //locomotive-scroll
                    scrub: true,
                    trigger: "#section2",
                    pin: true,
                    // anticipatePin: 1,
                    start: "top top",
                    end: pinWrapWidth,
                    markers: true,
                },
                x: -horizontalScrollLength,
                ease: "none"
            });

            ScrollTrigger.addEventListener("refresh", () => scroller.update()); //locomotive-scroll

            ScrollTrigger.refresh();
        });
    </script>


    <script>
        console.clear();
        const randomX = random(-400, 400);
        const randomY = random(-200, 200);
        const randomDelay = random(0, 50);
        const randomTime = random(6, 12);
        const randomTime2 = random(5, 6);
        const randomAngle = random(-30, 150);

        const blurs = gsap.utils.toArray(".blur");
        blurs.forEach((blur) => {
            gsap.set(blur, {
                x: randomX(-1),
                y: randomX(1),
                rotation: randomAngle(-1)
            });

            moveX(blur, 1);
            moveY(blur, -1);
            rotate(blur, 1);
        });

        function rotate(target, direction) {
            gsap.to(target, randomTime2(), {
                rotation: randomAngle(direction),
                // delay: randomDelay(),
                ease: Sine.easeInOut,
                onComplete: rotate,
                onCompleteParams: [target, direction * -1]
            });
        }

        function moveX(target, direction) {
            gsap.to(target, randomTime(), {
                x: randomX(direction),
                ease: Sine.easeInOut,
                onComplete: moveX,
                onCompleteParams: [target, direction * -1]
            });
        }

        function moveY(target, direction) {
            gsap.to(target, randomTime(), {
                y: randomY(direction),
                ease: Sine.easeInOut,
                onComplete: moveY,
                onCompleteParams: [target, direction * -1]
            });
        }

        function random(min, max) {
            const delta = max - min;
            return (direction = 1) => (min + delta * Math.random()) * direction;
        }
    </script>
</body>

</html>